<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seller Account</title>
    <link rel="stylesheet" href="styles.css">
<style>
    body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 20px;
}

.seller-account-container {
    background: #fff;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    max-width: 800px;
    margin: auto;
}

h2, h3 {
    color: #d4af37; /* Gold color */
    font-family: 'Cursive', sans-serif; /* Cursive font for luxury feel */
}

label {
    font-weight: bold;
    margin-top: 10px;
    display: block;
}

input[type="text"],
input[type="tel"],
input[type="email"],
input[type="password"],
input[type="url"],
input[type="number"],
select,
textarea {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
}

button {
    background-color: #d4af37; /* Gold color for buttons */
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 10px;
    cursor: pointer;
    font-weight: bold;
}

button:hover {
    background-color: #b5942c; /* Darker gold on hover */
}

.product-card {
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 15px;
    margin: 10px 0;
    background-color: #f9f9f9;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
}

.product-image {
    width: 100%;
    height: auto;
    border-radius: 5px;
}

.hidden {
    display: none;
}

#product-display {
    margin-top: 20px;
}
</style>
</head>
<body>
    <header>
        <h1>Create Seller Account</h1>
    </header>

    <section id="registration-section">
        <form id="seller-form">
            <input type="text" id="username" placeholder="Username" required>
            <input type="tel" id="phone" placeholder="Phone Number" required>
            <input type="email" id="email" placeholder="Email" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Create Account</button>
        </form>
        <button id="toggle-login">Already have an account? Log in</button>
    </section>

    <section id="login-section" class="hidden">
        <h2>Login</h2>
        <form id="login-form">
            <input type="text" id="login-username" placeholder="Username" required>
            <input type="password" id="login-password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
    </section>

    <section id="upload-section" class="hidden">
        <h2>Upload Product</h2>
        <form id="product-form">
            <input type="text" id="product-name" placeholder="Product Name" required>
            <input type="text" id="product-category" placeholder="Product Category" required>
            <input type="url" id="product-main-image" placeholder="Main Image URL" required>
            <textarea id="product-description" placeholder="Description" required></textarea>
            <textarea id="product-details" placeholder="Details" required></textarea>
            <input type="number" id="product-price" placeholder="Price in INR" required>
            <button type="submit">Upload Product</button>
        </form>
        <div id="product-display"></div>
        <button id="delete-account">Delete Account</button>
    </section>

    <script>
         const sellerForm = document.getElementById('seller-form');
const loginForm = document.getElementById('login-form');
const productForm = document.getElementById('product-form');
const productDisplay = document.getElementById('product-display');
const uploadSection = document.getElementById('upload-section');
const loginSection = document.getElementById('login-section');
const registrationSection = document.getElementById('registration-section');
const toggleLoginButton = document.getElementById('toggle-login');
const deleteAccountButton = document.getElementById('delete-account');

let loggedInUser = null;

// Load stored accounts and products from localStorage
let sellerAccounts = JSON.parse(localStorage.getItem('sellerAccounts')) || [];

// Function to load products for the logged-in user
function loadUserProducts() {
    const userProducts = JSON.parse(localStorage.getItem(loggedInUser)) || [];
    return userProducts;
}

// Event listener for seller account creation
sellerForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const username = document.getElementById('username').value;
    const phone = document.getElementById('phone').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    // Create seller account object
    const newAccount = { username, phone, email, password };

    // Save new account to localStorage
    sellerAccounts.push(newAccount);
    localStorage.setItem('sellerAccounts', JSON.stringify(sellerAccounts));

    alert(`Account created for ${username}`);
    sellerForm.reset();
});

// Event listener for login
loginForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;

    // Check if the username and password match any stored account
    const user = sellerAccounts.find(account => account.username === username && account.password === password);

    if (user) {
        loggedInUser = username; // Set logged-in user
        alert(`Logged in as ${loggedInUser}`);

        // Show upload section after login
        loginSection.classList.add('hidden');
        uploadSection.classList.remove('hidden');
        
        // Load user's products
        products = loadUserProducts();
        displayProducts();
    } else {
        alert("Invalid username or password. Please try again.");
    }
});

// Event listener for uploading product card
productForm.addEventListener('submit', function(event) {
    event.preventDefault();
    
    if (!loggedInUser) {
        alert("You must be logged in to upload products.");
        return;
    }
    
    const category = document.getElementById('product-category').value;
    const name = document.getElementById('product-name').value;
    const mainImage = document.getElementById('product-main-image').value;
    const description = document.getElementById('product-description').value;
    const details = document.getElementById('product-details').value;
    const price = document.getElementById('product-price').value;
    
    // Collect additional image URLs
    const imageUrls = Array.from(document.querySelectorAll('.product-image-url'))
                           .map(input => input.value).filter(url => url);

    const newProduct = {
        id: Date.now(), // Unique ID for the product
        category,
        name,
        mainImage,
        imageUrls,
        description,
        details,
        price,
        quantity: 0 // Start with 0 quantity
    };

    // Save product to localStorage
    const userProducts = JSON.parse(localStorage.getItem(loggedInUser)) || [];
    userProducts.push(newProduct);
    localStorage.setItem(loggedInUser, JSON.stringify(userProducts));

    products.push(newProduct);
    displayProducts();
    productForm.reset();
});

// Function to display uploaded products
function displayProducts() {
    productDisplay.innerHTML = ''; // Clear previous display

    products.forEach(product => {
        const productHTML = `
            <div class="product-card" id="product-${product.id}">
                <img src="${product.mainImage}" alt="${product.name}" class="product-image">
                <h3>${product.name}</h3>
                <p>Category: ${product.category}</p>
                <p>Price: INR ${product.price}</p>
                <p>Quantity: <button onclick="decreaseQuantity(${product.id})">-</button> 
                <span id="quantity-${product.id}">${product.quantity}</span> 
                <button onclick="increaseQuantity(${product.id})">+</button></p>
                <button onclick="viewProduct('${product.name}')">View Product</button>
                <button onclick="deleteProduct(${product.id})">Delete</button>
            </div>
        `;
        productDisplay.insertAdjacentHTML('beforeend', productHTML);
    });
}

// Function to handle viewing product details
function viewProduct(productName) {
    const product = products.find(p => p.name === productName);
    if (product) {
        alert(`Product: ${product.name}\nDescription: ${product.description}\nDetails: ${product.details}\nPrice: INR ${product.price}`);
    }
}

// Function to increase product quantity
function increaseQuantity(productId) {
    const product = products.find(p => p.id === productId);
    if (product) {
        product.quantity++;
        document.getElementById(`quantity-${productId}`).innerText = product.quantity;
        saveProducts(); // Save the updated quantity to localStorage
    }
}

// Function to decrease product quantity
function decreaseQuantity(productId) {
    const product = products.find(p => p.id === productId);
    if (product && product.quantity > 0) {
        product.quantity--;
        document.getElementById(`quantity-${productId}`).innerText = product.quantity;
        saveProducts(); // Save the updated quantity to localStorage
    }
}

// Function to delete a product
function deleteProduct(productId) {
    products = products.filter(p => p.id !== productId);
    document.getElementById(`product-${productId}`).remove();
    saveProducts(); // Save the updated product list to localStorage
}

// Save products to localStorage
function saveProducts() {
    localStorage.setItem(loggedInUser, JSON.stringify(products));
}

// Toggle between login and registration
toggleLoginButton.addEventListener('click', function() {
    loginSection.classList.toggle('hidden');
    registrationSection.classList.toggle('hidden');
});

// Event listener for account deletion
deleteAccountButton.addEventListener('click', function() {
    if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
        // Find and remove the logged-in user from accounts
        sellerAccounts = sellerAccounts.filter(account => account.username !== loggedInUser);
        localStorage.setItem('sellerAccounts', JSON.stringify(sellerAccounts));
        
        // Remove the user's products
        localStorage.removeItem(loggedInUser);

        products = []; // Clear products
        loggedInUser = null; // Clear logged-in user
        alert('Your account has been deleted.');
        
        // Reset sections
        uploadSection.classList.add('hidden');
        loginSection.classList.add('hidden');
        registrationSection.classList.remove('hidden');
        productDisplay.innerHTML = '';
    }
});
    </script>
</body>
</html>
